"use strict";(globalThis.webpackChunkgutenberg=globalThis.webpackChunkgutenberg||[]).push([[9],{9:(e,t,i)=>{var o=i(744);const a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];(0,o.h)({actions:{core:{image:{showLightbox:({context:e,event:t})=>{if(!e.core.image.imageLoaded)return;e.core.image.initialized=!0,e.core.image.lastFocusedElement=window.document.activeElement,e.core.image.scrollDelta=0,e.core.image.lightboxEnabled=!0,"zoom"===e.core.image.lightboxAnimation&&function(e,t,i){let o=t.core.image.targetWidth,a=t.core.image.targetHeight;const n=t.core.image.figureRef.clientWidth;let r=0;n>480?r=40:n>1920&&(r=80);const c=t.core.image.figureRef.clientHeight-80,l=Math.abs(Math.min(n-o,0)),g=Math.abs(Math.min(c-a,0));(l>0||g>0)&&(l>=g||c>=n?(o=n-2*r,a=e.naturalHeight*(o/e.naturalWidth)):(a=c,o=e.naturalWidth*(a/e.naturalHeight)));const{x:m,y:s}=i.target.nextElementSibling.getBoundingClientRect(),d=i.target.nextElementSibling.offsetWidth/o,u=i.target.nextElementSibling.offsetHeight/a;let h=0;h=o>=n?r:(n-o)/2;let b=0;b=a>=c?40:(c-a)/2+40;const f=document.documentElement;f.style.setProperty("--lightbox-scale-width",d),f.style.setProperty("--lightbox-scale-height",u),f.style.setProperty("--lightbox-image-max-width",o+"px"),f.style.setProperty("--lightbox-image-max-height",a+"px"),f.style.setProperty("--lightbox-initial-left-position",m+"px"),f.style.setProperty("--lightbox-initial-top-position",s+"px"),f.style.setProperty("--lightbox-target-left-position",h+"px"),f.style.setProperty("--lightbox-target-top-position",b+"px")}(t.target.nextElementSibling,e,t),document.documentElement.classList.add("has-lightbox-open"),e.core.image.preloadInitialized=!0;const i=document.createElement("img");i.onload=function(){e.core.image.activateLargeImage=!0},i.setAttribute("src",e.core.image.imageUploadedSrc)},hideLightbox:async({context:e,event:t})=>{if(e.core.image.hideAnimationEnabled=!0,e.core.image.lightboxEnabled){if("fade"===e.core.image.lightboxAnimation){if(e.core.image.scrollDelta+=t.deltaY,"mousewheel"===t.type&&Math.abs(window.scrollY-e.core.image.scrollDelta)<10)return}else if("zoom"===e.core.image.lightboxAnimation){const e=window.pageYOffset||document.documentElement.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft;window.onscroll=function(){window.scrollTo(t,e)},setTimeout((function(){window.onscroll=function(){}}),400)}document.documentElement.classList.remove("has-lightbox-open"),e.core.image.lightboxEnabled=!1,e.core.image.lastFocusedElement.focus()}},handleKeydown:({context:e,actions:t,event:i})=>{e.core.image.lightboxEnabled&&("Tab"!==i.key&&9!==i.keyCode||(i.shiftKey&&window.document.activeElement===e.core.image.firstFocusableElement?(i.preventDefault(),e.core.image.lastFocusableElement.focus()):i.shiftKey||window.document.activeElement!==e.core.image.lastFocusableElement||(i.preventDefault(),e.core.image.firstFocusableElement.focus())),"Escape"!==i.key&&27!==i.keyCode||t.core.image.hideLightbox({context:e,event:i}))}}}},selectors:{core:{image:{roleAttribute:({context:e})=>e.core.image.lightboxEnabled?"dialog":"",responsiveImgSrc:({context:e})=>e.core.image.activateLargeImage?"":e.core.image.imageCurrentSrc,enlargedImgSrc:({context:e})=>e.core.image.initialized?e.core.image.imageUploadedSrc:""}}},effects:{core:{image:{setCurrentSrc:({context:e,ref:t})=>{t.complete?(e.core.image.imageLoaded=!0,e.core.image.imageCurrentSrc=t.currentSrc):t.addEventListener("load",(function(){e.core.image.imageLoaded=!0,e.core.image.imageCurrentSrc=this.currentSrc}))},preloadLightboxImage:({context:e,ref:t})=>{t.addEventListener("mouseover",(()=>{e.core.image.preloadInitialized||(e.core.image.preloadInitialized=!0,document.createElement("img").setAttribute("src",e.core.image.imageUploadedSrc))}))},initLightbox:async({context:e,ref:t})=>{if(e.core.image.figureRef=t.querySelector("figure"),e.core.image.imageRef=t.querySelector("img"),e.core.image.lightboxEnabled){const i=t.querySelectorAll(a);e.core.image.firstFocusableElement=i[0],e.core.image.lastFocusableElement=i[i.length-1],t.querySelector(".close-button").focus()}}}}}})}},e=>{e.O(0,[666],(()=>(9,e(e.s=9)))),e.O()}]);
//# sourceMappingURL=interactivity.min.js.map